syntax = "v1"

info(
    desc: ""
    author: "atlas"
    email: "ut1221@icloud.com"
    date: "2025-07-30 10:22:24"
)

type (
    RedisMonitorResp {
        Info map[string]string `json:"info"`
        DbSize int64 `json:"dbSize"`
        CommandStats []CommandState `json:"commandStats"`
    }
    CommandState {
        Name string `json:"name"`
        Value string `json:"value"`
    }
)

@server(
    tags: "监控日志"
    group: monitor
    prefix: /monitor
    middleware: Auth
)
service Monitor {
    @handler RedisMonitor
    get /cache returns (RedisMonitorResp)
}